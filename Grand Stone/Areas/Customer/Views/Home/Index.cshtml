@model IEnumerable<Domain.Entities.Product>
@{
    ViewData["Title"] = "Home";
}

<div id="heroCarousel"
     class="carousel slide carousel-fade"
     data-bs-ride="carousel"
     data-bs-interval="7000"
     data-bs-pause="false"
     data-bs-touch="true">

    <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
    </div>

    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="~/images/hero/hero-1.jpg" class="d-block w-100 hero-img" alt="Grand Stone">
            <div class="carousel-caption gs-caption-centered">
                <div class="container">
                    <h1 class="gs-animate">It’s not just a stone</h1>
                    <p class="gs-animate delay-1">It’s a sign of strength and quality</p>
                    <div class="gs-animate delay-2">
                        <a class="btn btn-warning px-5 py-3 fw-bold" href="#contact">CONTACT US</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="carousel-item">
            <img src="~/images/hero/hero-2.jpg" class="d-block w-100 hero-img" alt="Grand Stone">
            <div class="carousel-caption gs-caption-centered">
                <div class="container">
                    <h1 class="gs-animate">Natural Stone Solutions</h1>
                    <p class="gs-animate delay-1">Granite, Marble & Limestone</p>
                    <div class="gs-animate delay-2">
                        <a class="btn btn-warning px-5 py-3 fw-bold" href="#materials">EXPLORE MATERIALS</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="carousel-item">
            <img src="~/images/hero/hero-3.jpg" class="d-block w-100 hero-img" alt="Grand Stone">
            <div class="carousel-caption gs-caption-centered">
                <div class="container">
                    <h1 class="gs-animate">Build With Confidence</h1>
                    <p class="gs-animate delay-1">Trusted stone experts</p>
                    <div class="gs-animate delay-2">
                        <a class="btn btn-warning px-5 py-3 fw-bold" href="#about">WHO WE ARE</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>
</div>

<section class="py-5 bg-white">
    <div class="container">
        <div class="row align-items-center g-5">
            <div class="col-lg-6">
                <span class="text-warning fw-semibold text-uppercase letter-spacing-2">Grand Stone</span>
                <h2 class="fw-bold mt-2 mb-4 display-6">
                    It’s not just a trademark,<br />
                    <span class="text-dark">it’s a sign of success</span>
                </h2>
                <p class="text-muted mb-4 fs-5">
                    Since 2003, Grand Stone has been a trusted name in marble,
                    limestone, and granite. With years of experience and
                    high-quality materials, we deliver premium stone solutions.
                </p>
                <ul class="list-unstyled mb-4">
                    <li class="mb-3 d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-warning me-3 fs-5"></i>
                        <span>Visit Our Factory & Showroom</span>
                    </li>
                    <li class="mb-3 d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-warning me-3 fs-5"></i>
                        <span>Explore Our Stone Collections</span>
                    </li>
                    <li class="mb-3 d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-warning me-3 fs-5"></i>
                        <span>Custom Sizes & Finishes</span>
                    </li>
                </ul>
                <a href="@Url.Action("Index","About")" class="btn btn-dark btn-lg px-5 rounded-0">
                    Read More &rarr;
                </a>

            </div>

            <div class="col-lg-6">
                <!-- ✅ Images Stack Wrapper (مجهز للتراكب) -->
                <div class="about-img-wrapper">
                    <img src="~/images/about/about-main.jpg" class="about-img about-img--back" alt="Grand Stone Main">
                    <img src="~/images/about/about-overlay.jpg" class="about-img about-img--front" alt="Grand Stone Factory">
                </div>
            </div>
        </div>
    </div>
</section>

<partial name="_ChairmanSection" />

@* PRODUCTS SECTION (DB) *@
<section class="products-section">

    <div class="container">

        <h2 class="products-title">PRODUCTS</h2>

        <div class="products-grid" id="productsGrid">

            @{
                var productsList = Model?.ToList() ?? new List<Domain.Entities.Product>();
            }

            @for (int i = 0; i < productsList.Count; i++)
            {
                var item = productsList[i];
                var isHidden = i >= 4; // أول 4 ظاهرين والباقي مخفي

                <a asp-area="Customer"
                   asp-controller="Product"
                   asp-action="Details"
                   asp-route-id="@item.Id"
                   class="product-card @(isHidden ? "hidden" : "")"
                   style="@(isHidden ? "display:none;" : "")">

                    <img src="@(string.IsNullOrWhiteSpace(item.ImageUrl) ? "/images/products/p1.jpg" : item.ImageUrl)"
                         alt="@item.Name">

                    <div class="product-overlay">SEE PRODUCT</div>
                    <h5>@item.Name</h5>

                </a>
            }

        </div>

        <div class="products-actions">
            <button id="seeMoreBtn" class="products-btn">SEE MORE</button>
            <button id="seeLessBtn" class="products-btn d-none">SEE LESS</button>
        </div>

    </div>

</section>

<script>
    const seeMoreBtn = document.getElementById("seeMoreBtn");
    const seeLessBtn = document.getElementById("seeLessBtn");

    function getHiddenItems() {
        return document.querySelectorAll(".product-card.hidden");
    }

    function toggleButtons(showLess) {
        if (showLess) {
            seeMoreBtn.classList.add("d-none");
            seeLessBtn.classList.remove("d-none");
        } else {
            seeLessBtn.classList.add("d-none");
            seeMoreBtn.classList.remove("d-none");
        }
    }

    // لو المنتجات أقل من أو يساوي 4 نخفي الأزرار
    (function initProductsButtons() {
        const hiddenItems = getHiddenItems();
        if (hiddenItems.length === 0) {
            seeMoreBtn.classList.add("d-none");
            seeLessBtn.classList.add("d-none");
        }
    })();

    seeMoreBtn.addEventListener("click", function () {
        const hiddenItems = getHiddenItems();

        hiddenItems.forEach(x => {
            x.style.display = "block";
        });

        toggleButtons(true);
    });

    seeLessBtn.addEventListener("click", function () {
        const hiddenItems = getHiddenItems();

        hiddenItems.forEach(x => {
            x.style.display = "none";
        });

        toggleButtons(false);

        window.scrollTo({
            top: document.querySelector('.products-section').offsetTop - 80,
            behavior: "smooth"
        });
    });
</script>




<section class="gs-why">
    <div class="container gs-why__wrap">
        <div class="gs-why__grid">

            <!-- LEFT: Text -->
            <div class="gs-why__content">
                <div class="gs-why__kicker">
                    <span class="gs-why__line"></span>
                    <span class="gs-why__label">CUTTING-EDGE PRODUCTION PLANT WITH ROBUST CAPACITY</span>
                </div>

                <h2 class="gs-why__title">Why choose Cleopatra Stones</h2>

                <div class="gs-why__text">
                    <p>
                        At Cleopatra Stones Group (MK for Marble and Granite), we combine decades of expertise,
                        cutting-edge technology, and a relentless commitment to quality to deliver premium Egyptian marble,
                        limestone, and granite to clients across the globe.
                    </p>

                    <p>
                        Our 10,000 m² facility in Cairo’s industrial zone, established in 2008, is fully equipped with high-powered saws,
                        automated polishing machines, and an advanced stone filtering system that ensures consistent quality in every slab and tile.
                        Our high-tech machinery enables us to deliver precision-cut marble and flawlessly finished slabs, ready for export.
                    </p>

                    <p>
                        Since 1999, we have built lasting partnerships across Europe, North America, the Middle East, Asia, and Australia.
                        Our key markets include France, Germany, USA, Spain, Saudi Arabia, India, and more. Clients trust us for our reliable service,
                        timely delivery, and unmatched product quality.
                    </p>
                </div>

                <div class="gs-why__divider"></div>
            </div>

            <!-- RIGHT: Image -->
            <div class="gs-why__media">
                <img src="~/images/why/why-1.jpg" alt="Stone slab">
            </div>

        </div>
    </div>
</section>


<section class="gs-contact" id="contact">
    <div class="container">
        <div class="gs-contact__wrap">

            <div class="gs-contact__card">
                <div class="gs-contact__kicker">
                    <span class="gs-contact__line"></span>
                    <span class="gs-contact__label">VISIT</span>
                </div>

                <h2 class="gs-contact__title">Drop Us A Message</h2>
                <p class="gs-contact__subtitle">Receive monthly news, offers and inspiration</p>

                <form class="gs-contact__form" method="post" action="#">
                    <div class="gs-contact__row">
                        <input class="gs-contact__input" type="text" name="FirstName" placeholder="First Name" />
                        <input class="gs-contact__input" type="text" name="LastName" placeholder="Last Name" />
                    </div>

                    <select class="gs-contact__select" name="Service">
                        <option value="" selected disabled>Choose Service</option>
                        <option value="marble">Marble</option>
                        <option value="granite">Granite</option>
                    </select>

                    <textarea class="gs-contact__textarea" name="Message" rows="5" placeholder="Write Your Message"></textarea>

                    <button class="gs-contact__btn" type="submit">SUBMIT REQUEST</button>
                </form>
            </div>

        </div>
    </div>
</section>







